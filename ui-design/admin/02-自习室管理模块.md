# 02 - 自习室管理模块

> 状态：📋 规划中  
> 优先级：P0（核心功能）

---

## 2.1 教学楼管理 (Building)

### 页面信息

- **页面路径**：`/study/building`
- **页面类型**：列表页
- **访问权限**：自习室管理权限

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  自习室管理 / 教学楼管理                                                                                            │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 教学楼名称：┌────────────────────┐    状态：┌────────────────┐                                                │ │
│  │            │                    │         │ 全部        ▼ │                      [搜索]  [重置]    [+ 新增]  │ │
│  │            └────────────────────┘         └────────────────┘                                                │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ ☐  │ 名称           │ 位置描述             │ 开放日期         │ 开放时间        │ 状态   │ 操作              │ │
│  │────┼────────────────┼──────────────────────┼──────────────────┼─────────────────┼────────┼───────────────────│ │
│  │ ☐  │ 图书馆         │ 校园中心             │ 周一至周日       │ 07:00-22:00     │ 🟢启用 │ 编辑  删除        │ │
│  │────┼────────────────┼──────────────────────┼──────────────────┼─────────────────┼────────┼───────────────────│ │
│  │ ☐  │ 教学楼A        │ 校园东区             │ 周一至周五       │ 08:00-21:00     │ 🟢启用 │ 编辑  删除        │ │
│  │────┼────────────────┼──────────────────────┼──────────────────┼─────────────────┼────────┼───────────────────│ │
│  │ ☐  │ 教学楼B        │ 校园西区             │ 周一至周六       │ 08:00-22:00     │ ⚪停用 │ 编辑  删除        │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│                                                                          共 3 条记录    < 1 >    每页 20 条        │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```


### 列表字段说明

| 字段 | 说明 | 宽度 |
| ---- | ---- | ---- |
| 选择框 | 批量操作选择 | 50px |
| 名称 | 教学楼名称 | 150px |
| 位置描述 | 教学楼位置 | 150px |
| 开放日期 | 开放的星期 | 120px |
| 开放时间 | 每日开放时间段 | 120px |
| 状态 | 启用/停用 | 80px |
| 操作 | 编辑、删除 | 120px |

### 新增/编辑弹窗

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  新增教学楼                                                                                                    ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  * 教学楼名称：                                                                                                    │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │                                                                                                              ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    位置描述：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │                                                                                                              ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  * 开放时间配置：                                                                                                  │
│    ○ 统一时间（所有开放日使用相同时间）    ○ 分别配置（每天可设置不同时间）                                        │
│                                                                                                                    │
│    【统一时间模式】                                                                                                │
│    开放日期：☑ 周一  ☑ 周二  ☑ 周三  ☑ 周四  ☑ 周五  ☑ 周六  ☑ 周日      [全选] [工作日] [周末]                  │
│    开放时间：┌────────────┐ 至 ┌────────────┐                                                                     │
│             │  07:00     │    │  22:00     │                                                                     │
│             └────────────┘    └────────────┘                                                                     │
│                                                                                                                    │
│    【分别配置模式】（选择"分别配置"时显示）                                                                        │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │  ☑ 周一    ┌────────────┐ 至 ┌────────────┐                                                                 ││
│    │            │  08:00     │    │  21:00     │                                                                 ││
│    │            └────────────┘    └────────────┘                                                                 ││
│    │  ☑ 周二    ┌────────────┐ 至 ┌────────────┐                                                                 ││
│    │            │  08:00     │    │  21:00     │                                                                 ││
│    │            └────────────┘    └────────────┘                                                                 ││
│    │  ☑ 周三    ┌────────────┐ 至 ┌────────────┐                                                                 ││
│    │            │  08:00     │    │  22:00     │                                                                 ││
│    │            └────────────┘    └────────────┘                                                                 ││
│    │  ☑ 周四    ┌────────────┐ 至 ┌────────────┐                                                                 ││
│    │            │  08:00     │    │  21:00     │                                                                 ││
│    │            └────────────┘    └────────────┘                                                                 ││
│    │  ☑ 周五    ┌────────────┐ 至 ┌────────────┐                                                                 ││
│    │            │  08:00     │    │  22:00     │                                                                 ││
│    │            └────────────┘    └────────────┘                                                                 ││
│    │  ☑ 周六    ┌────────────┐ 至 ┌────────────┐                                                                 ││
│    │            │  09:00     │    │  18:00     │                                                                 ││
│    │            └────────────┘    └────────────┘                                                                 ││
│    │  ☐ 周日    休息                                                                                             ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    联系电话：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │                                                                                                              ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    教学楼图片：┌─────────┐                                                                                         │
│               │  + 上传  │                                                                                         │
│               └─────────┘                                                                                         │
│                                                                                                                    │
│  * 状态：  ○ 启用  ○ 停用                                                                                          │
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 表单字段

| 字段 | 类型 | 必填 | 校验规则 |
| ---- | ---- | ---- | -------- |
| 教学楼名称 | 输入框 | 是 | 2-50字符 |
| 位置描述 | 输入框 | 否 | 最多200字符 |
| 开放时间配置模式 | 单选框 | 是 | 统一时间/分别配置 |
| 开放日期 | 多选框 | 是 | 至少选择一天 |
| 开放时间 | 时间选择器 | 是 | 开始时间小于结束时间 |
| 联系电话 | 输入框 | 否 | 手机号或座机格式 |
| 教学楼图片 | 图片上传 | 否 | 支持jpg/png，最大2MB |
| 状态 | 单选框 | 是 | 默认启用 |

### 开放时间数据结构

```json
{
  "scheduleMode": "separate",
  "openSchedule": [
    { "day": 1, "dayName": "周一", "open": true, "openTime": "08:00", "closeTime": "21:00" },
    { "day": 2, "dayName": "周二", "open": true, "openTime": "08:00", "closeTime": "21:00" },
    { "day": 3, "dayName": "周三", "open": true, "openTime": "08:00", "closeTime": "22:00" },
    { "day": 4, "dayName": "周四", "open": true, "openTime": "08:00", "closeTime": "21:00" },
    { "day": 5, "dayName": "周五", "open": true, "openTime": "08:00", "closeTime": "22:00" },
    { "day": 6, "dayName": "周六", "open": true, "openTime": "09:00", "closeTime": "18:00" },
    { "day": 7, "dayName": "周日", "open": false, "openTime": null, "closeTime": null }
  ]
}
```

---

## 2.2 楼层管理 (Floor)

### 页面信息

- **页面路径**：`/study/floor`
- **页面类型**：列表页

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  自习室管理 / 楼层管理                                                                                              │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 所属教学楼：┌────────────────┐    楼层名称：┌────────────────────┐                                            │ │
│  │            │ 全部        ▼ │             │                    │              [搜索]  [重置]    [+ 新增]      │ │
│  │            └────────────────┘             └────────────────────┘                                            │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 所属教学楼       │ 楼层号   │ 楼层名称           │ 开放日期         │ 开放时间        │ 操作                  │ │
│  │──────────────────┼──────────┼────────────────────┼──────────────────┼─────────────────┼───────────────────────│ │
│  │ 图书馆           │ 1F       │ 综合阅览区         │ 周一至周日       │ 07:00-22:00     │ 编辑  删除            │ │
│  │──────────────────┼──────────┼────────────────────┼──────────────────┼─────────────────┼───────────────────────│ │
│  │ 图书馆           │ 2F       │ 自习区A            │ 周一至周日       │ 07:00-22:00     │ 编辑  删除            │ │
│  │──────────────────┼──────────┼────────────────────┼──────────────────┼─────────────────┼───────────────────────│ │
│  │ 图书馆           │ 3F       │ 自习区B            │ 周一至周五       │ 08:00-21:00     │ 编辑  删除            │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│                                                                          共 3 条记录    < 1 >    每页 20 条        │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 新增/编辑弹窗

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  新增楼层                                                                                                      ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  * 所属教学楼：                                                                                                    │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 请选择                                                                                                    ▼ ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  * 楼层号：                                                                                                        │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 如：1F、2F                                                                                                   ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    楼层名称：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 如：综合阅览区                                                                                               ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    开放时间配置：（不填则继承教学楼）                                                                              │
│    ○ 继承教学楼    ○ 统一时间    ○ 分别配置                                                                       │
│                                                                                                                    │
│    【统一时间模式】                                                                                                │
│    开放日期：☐ 周一  ☐ 周二  ☐ 周三  ☐ 周四  ☐ 周五  ☐ 周六  ☐ 周日      [全选] [工作日] [周末]                  │
│    开放时间：┌────────────┐ 至 ┌────────────┐                                                                     │
│             │            │    │            │                                                                     │
│             └────────────┘    └────────────┘                                                                     │
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 2.3 教室管理 (Classroom)

### 页面信息

- **页面路径**：`/study/classroom`
- **页面类型**：列表页

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  自习室管理 / 教室管理                                                                                              │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 教学楼：┌────────────────┐  楼层：┌────────────────┐  教室名称：┌────────────────────┐  状态：┌────────────┐ │ │
│  │        │ 全部        ▼ │       │ 全部        ▼ │           │                    │       │ 全部    ▼ │ │ │
│  │        └────────────────┘       └────────────────┘           └────────────────────┘       └────────────┘ │ │
│  │                                                                                                          │ │
│  │                                                                              [搜索]  [重置]    [+ 新增]  │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 教学楼       │ 楼层   │ 教室名称       │ 座位数   │ 设施配置               │ 状态   │ 操作                    │ │
│  │──────────────┼────────┼────────────────┼──────────┼────────────────────────┼────────┼─────────────────────────│ │
│  │ 图书馆       │ 2F     │ 自习室201      │ 30       │ 电源 空调 WiFi         │ 🟢启用 │ 编辑  布局  删除        │ │
│  │──────────────┼────────┼────────────────┼──────────┼────────────────────────┼────────┼─────────────────────────│ │
│  │ 图书馆       │ 2F     │ 自习室202      │ 40       │ 电源 WiFi              │ 🟢启用 │ 编辑  布局  删除        │ │
│  │──────────────┼────────┼────────────────┼──────────┼────────────────────────┼────────┼─────────────────────────│ │
│  │ 图书馆       │ 3F     │ 研讨室301      │ 12       │ 电源 空调 可讨论       │ 🟢启用 │ 编辑  布局  删除        │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│                                                                          共 3 条记录    < 1 >    每页 20 条        │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```


### 新增/编辑弹窗

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  新增教室                                                                                                      ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  * 所属教学楼：┌────────────────────────────────────────────┐  * 所属楼层：┌────────────────────────────────────┐ │
│               │ 请选择                                  ▼ │              │ 请选择                            ▼ │ │
│               └────────────────────────────────────────────┘              └────────────────────────────────────┘ │
│                                                                                                                    │
│  * 教室名称：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 如：自习室201                                                                                                ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    教室简介：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │                                                                                                              ││
│    │                                                                                                              ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    设施配置：☐ 电源插座  ☐ 空调  ☐ WiFi  ☐ 安静区  ☐ 可讨论                                                       │
│                                                                                                                    │
│    教室图片：┌─────────┐ ┌─────────┐                                                                               │
│             │  + 上传  │ │         │    最多上传5张图片                                                            │
│             └─────────┘ └─────────┘                                                                               │
│                                                                                                                    │
│    开放时间配置：（不填则继承楼层）                                                                                │
│    ○ 继承楼层    ○ 统一时间    ○ 分别配置                                                                         │
│                                                                                                                    │
│    【统一时间模式】                                                                                                │
│    开放日期：☐ 周一  ☐ 周二  ☐ 周三  ☐ 周四  ☐ 周五  ☐ 周六  ☐ 周日      [全选] [工作日] [周末]                  │
│    开放时间：┌────────────┐ 至 ┌────────────┐                                                                     │
│             │            │    │            │                                                                     │
│             └────────────┘    └────────────┘                                                                     │
│                                                                                                                    │
│  * 状态：  ○ 启用  ○ 停用                                                                                          │
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 设施配置说明

| 设施 | 字段名 | 说明 |
| ---- | ------ | ---- |
| 电源插座 | hasPower | 座位是否配备电源 |
| 空调 | hasAircon | 是否有空调 |
| WiFi | hasWifi | 是否有WiFi覆盖 |
| 安静区 | isQuiet | 是否为安静学习区 |
| 可讨论 | allowDiscuss | 是否允许小声讨论 |

---

## 2.4 座位管理 (Seat)

### 页面信息

- **页面路径**：`/study/seat`
- **页面类型**：列表页

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  自习室管理 / 座位管理                                                                                              │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 教学楼：┌────────────────┐  楼层：┌────────────────┐  教室：┌────────────────┐  状态：┌────────────────┐     │ │
│  │        │ 全部        ▼ │       │ 全部        ▼ │       │ 全部        ▼ │       │ 全部        ▼ │     │ │
│  │        └────────────────┘       └────────────────┘       └────────────────┘       └────────────────┘     │ │
│  │                                                                                                          │ │
│  │                                                                    [搜索]  [重置]  [批量新增]  [+ 新增]  │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ ☐  │ 教室               │ 座位号   │ 有电源   │ 靠窗     │ 状态       │ 操作                                │ │
│  │────┼────────────────────┼──────────┼──────────┼──────────┼────────────┼─────────────────────────────────────│ │
│  │ ☐  │ 图书馆-2F-自习室201│ 01       │ ✅ 是    │ ❌ 否    │ 🟢正常     │ 编辑  删除                          │ │
│  │────┼────────────────────┼──────────┼──────────┼──────────┼────────────┼─────────────────────────────────────│ │
│  │ ☐  │ 图书馆-2F-自习室201│ 02       │ ✅ 是    │ ✅ 是    │ 🟢正常     │ 编辑  删除                          │ │
│  │────┼────────────────────┼──────────┼──────────┼──────────┼────────────┼─────────────────────────────────────│ │
│  │ ☐  │ 图书馆-2F-自习室201│ 03       │ ❌ 否    │ ❌ 否    │ 🟡维护中   │ 编辑  删除                          │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  [批量删除]  [批量启用]  [批量停用]                                      共 30 条记录    < 1 >    每页 20 条       │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 批量新增弹窗

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  批量新增座位                                                                                                  ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  * 所属教室：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 图书馆 > 2F > 自习室201                                                                                   ▼ ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  * 座位数量：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 30                                                                                                           ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  * 座位号前缀：                                                                                                    │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 留空则使用数字编号                                                                                           ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│    默认属性：☐ 有电源插座                                                                                          │
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 座位状态说明

| 状态 | 值 | 说明 |
| ---- | -- | ---- |
| 正常 | 0 | 可正常预约 |
| 维护中 | 1 | 暂停预约，维护中 |
| 停用 | 2 | 已停用 |

---

## 2.5 教室布局编辑器 (Layout Editor)

### 页面信息

- **页面路径**：`/study/classroom/layout/:id`
- **页面类型**：编辑器页面
- **入口**：教室管理列表 → 布局按钮

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  教室布局编辑器 - 自习室201                                                                      [保存]    [预览]  │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 元素库 ─────────┐  ┌─ 编辑区域 ──────────────────────────────────────────────────────────────────────────────┐ │
│  │                  │  │                                                                                         │ │
│  │  🪑 座位         │  │     ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮                       │ │
│  │  🚪 门           │  │     │�│ │   │ │   │  │📝│ │   │ │   │ │   │ │   │ │   │ │🪟│                       │ │
│  │  🪟 窗户         │  │     │门 │ │   │ │   │ │讲台│ │   │ │   │ │   │ │   │ │   │ │窗 │                       │ │
│  │  📝 讲台         │  │     ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯                       │ │
│  │  ⬜ 走廊         │  │                                                                                         │ │
│  │  ❄️ 空调         │  │     ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮                       │ │
│  │  🔌 电源         │  │     │🪑│ │🪑│ │🪑│ │�│ ││🪑│ │🪑│ │🪑│ │🪑│ │🪑│ │🪟│                       │ │
│  │                  │  │     │01│ │02│ │03│ │04│ │05│ │06│ │07│ │08│ │09│ │窗 │                       │ │
│  │ ──────────────── │  │     ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯                       │ │
│  │ 自定义图标       │  │                                                                                         │ │
│  │                  │  │     ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮ ╭───╮                       │ │
│  │  [上传图标]      │  │     │🪑│ │🪑│ │🪑│ │�│ │ 🪑│ │🪑│ │🪑│ │🪑│ │🪑│ │🪟│                       │ │
│  │                  │  │     │10│ │11│ │12│ │13│ │14│ │15│ │16│ │17│ │18│ │窗 │                       │ │
│  └──────────────────┘  │     ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯ ╰───╯                       │ │
│                        │                                                                                         │ │
│                        └─────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 属性面板 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 已选中：座位 01                                                                                               │ │
│  │                                                                                                               │ │
│  │ 座位号：[01]          图标：[🪑 ▼]          X坐标：[120]          Y坐标：[80]          宽度：[80]  高度：[100] │ │
│  │ 是否有电源：[☑]       是否靠窗：[☐]         状态：[正常 ▼]                                                    │ │
│  │                                                                                                               │ │
│  │ [删除元素]    [复制元素]    [置顶]    [置底]                                                                   │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```


### 编辑器功能说明

| 功能 | 说明 |
| ---- | ---- |
| 元素拖拽 | 从元素库拖拽元素到编辑区域 |
| 位置调整 | 拖拽元素调整位置 |
| 大小调整 | 拖拽边缘调整元素大小 |
| 属性编辑 | 选中元素后在属性面板编辑 |
| 撤销/重做 | Ctrl+Z / Ctrl+Y |
| 复制/粘贴 | Ctrl+C / Ctrl+V |
| 网格吸附 | 元素自动对齐网格 |
| 预览 | 预览小程序端显示效果 |

### 元素类型

| 类型 | 图标 | 是否可预约 | 说明 |
| ---- | ---- | ---------- | ---- |
| seat | 🪑 | 是 | 座位，可预约 |
| door | 🚪 | 否 | 门 |
| window | 🪟 | 否 | 窗户 |
| podium | 📝 | 否 | 讲台 |
| corridor | ⬜ | 否 | 走廊 |
| aircon | ❄️ | 否 | 空调 |
| power | 🔌 | 否 | 电源位置标识 |
| custom | 自定义 | 可配置 | 自定义图标 |

### 布局数据结构

```json
{
  "classroomId": 201,
  "canvasWidth": 800,
  "canvasHeight": 600,
  "elements": [
    {
      "id": "elem_001",
      "type": "seat",
      "seatNo": "01",
      "icon": "🪑",
      "x": 120,
      "y": 80,
      "width": 80,
      "height": 100,
      "properties": {
        "hasPower": true,
        "nearWindow": false,
        "status": "normal"
      }
    }
  ]
}
```

---

## 2.6 接口依赖

| 接口名称 | 请求方式 | 接口路径 | 说明 |
| -------- | -------- | -------- | ---- |
| 教学楼列表 | GET | `/admin-api/study/building/page` | 分页查询教学楼 |
| 教学楼详情 | GET | `/admin-api/study/building/get` | 获取教学楼详情 |
| 新增教学楼 | POST | `/admin-api/study/building/create` | 新增教学楼 |
| 修改教学楼 | PUT | `/admin-api/study/building/update` | 修改教学楼 |
| 删除教学楼 | DELETE | `/admin-api/study/building/delete` | 删除教学楼 |
| 楼层列表 | GET | `/admin-api/study/floor/page` | 分页查询楼层 |
| 新增楼层 | POST | `/admin-api/study/floor/create` | 新增楼层 |
| 修改楼层 | PUT | `/admin-api/study/floor/update` | 修改楼层 |
| 删除楼层 | DELETE | `/admin-api/study/floor/delete` | 删除楼层 |
| 教室列表 | GET | `/admin-api/study/classroom/page` | 分页查询教室 |
| 新增教室 | POST | `/admin-api/study/classroom/create` | 新增教室 |
| 修改教室 | PUT | `/admin-api/study/classroom/update` | 修改教室 |
| 删除教室 | DELETE | `/admin-api/study/classroom/delete` | 删除教室 |
| 座位列表 | GET | `/admin-api/study/seat/page` | 分页查询座位 |
| 批量新增座位 | POST | `/admin-api/study/seat/batch-create` | 批量新增座位 |
| 修改座位 | PUT | `/admin-api/study/seat/update` | 修改座位 |
| 删除座位 | DELETE | `/admin-api/study/seat/delete` | 删除座位 |
| 获取布局 | GET | `/admin-api/study/classroom/layout/get` | 获取教室布局 |
| 保存布局 | POST | `/admin-api/study/classroom/layout/save` | 保存教室布局 |

---

> 上一篇：[01-登录与首页模块](./01-登录与首页模块.md)  
> 下一篇：[03-预约管理模块](./03-预约管理模块.md)
