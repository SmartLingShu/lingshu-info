# 04 - 用户管理模块

> 状态：📋 规划中  
> 优先级：P0（核心功能）

---

## 4.1 用户列表 (Member)

### 页面信息

- **页面路径**：`/study/member`
- **页面类型**：列表页
- **访问权限**：用户管理权限

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  用户管理 / 用户列表                                                                                                │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 用户昵称：┌────────────────┐  手机号：┌────────────────┐  学号：┌────────────────┐  状态：┌────────────────┐ │ │
│  │          │                │         │                │       │                │       │ 全部        ▼ │ │ │
│  │          └────────────────┘         └────────────────┘       └────────────────┘       └────────────────┘ │ │
│  │                                                                                                          │ │
│  │                                                                              [搜索]  [重置]    [导出]    │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 头像 │ 昵称     │ 手机号          │ 学号           │ 信用分     │ 学习时长   │ 状态   │ 操作                │ │
│  │──────┼──────────┼─────────────────┼────────────────┼────────────┼────────────┼────────┼─────────────────────│ │
│  │  👤  │ 张三     │ 138****8888     │ 2021001234     │ 98 优秀    │ 128小时    │ 🟢正常 │ 详情  积分  禁用    │ │
│  │──────┼──────────┼─────────────────┼────────────────┼────────────┼────────────┼────────┼─────────────────────│ │
│  │  👤  │ 李四     │ 139****9999     │ 2021001235     │ 85 良好    │ 85小时     │ 🟢正常 │ 详情  积分  禁用    │ │
│  │──────┼──────────┼─────────────────┼────────────────┼────────────┼────────────┼────────┼─────────────────────│ │
│  │  👤  │ 王五     │ 137****7777     │ 2021001236     │ 35 限制    │ 45小时     │ 🔴限制 │ 详情  积分  启用    │ │
│  │──────┼──────────┼─────────────────┼────────────────┼────────────┼────────────┼────────┼─────────────────────│ │
│  │  👤  │ 赵六     │ 136****6666     │ 2022001001     │ 72 一般    │ 62小时     │ 🟢正常 │ 详情  积分  禁用    │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│                                                                          共 856 条记录   < 1/43 >   每页 20 条     │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```


### 用户详情弹窗

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  用户详情                                                                                                      ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─────────┐                                                                                                       │
│  │  头像   │  张三                                                                                                 │
│  │         │  学号：2021001234                                                手机：138****8888                    │
│  └─────────┘                                                                                                       │
│                                                                                                                    │
│  ┌─ 基本信息 ────────────────────────────────────────────┐  ┌─ 信用信息 ────────────────────────────────────────┐ │
│  │                                                       │  │                                                    │ │
│  │  昵称：    张三                                        │  │  信用分：  98分                                     │ │
│  │  性别：    男                                          │  │  信用等级：优秀 ⭐⭐⭐⭐⭐                            │ │
│  │  学院：    计算机学院                                  │  │  状态：    正常                                     │ │
│  │  专业：    软件工程                                    │  │                                                    │ │
│  │  邮箱：    zh***@qq.com                               │  │                                                    │ │
│  │  注册时间：2024-09-01 10:30                           │  │                                                    │ │
│  │                                                       │  │                                                    │ │
│  └───────────────────────────────────────────────────────┘  └────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 学习统计 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │                                                                                                               │ │
│  │  累计学习：128小时                    预约次数：56次                    违约次数：2次                履约率：96.4% │ │
│  │                                                                                                               │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│  │                                                     关闭                                                        ││
│  └─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 调整积分弹窗

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  调整积分                                                                                                      ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  用户：张三                                                                                    当前积分：98分      │
│                                                                                                                    │
│  调整类型：○ 增加积分  ○ 扣除积分                                                                                  │
│                                                                                                                    │
│  调整分值：                                                                                                        │
│  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│  │ 5                                                                                                              ││
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  调整原因：                                                                                                        │
│  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│  │ 请输入调整原因                                                                                                 ││
│  │                                                                                                                ││
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  调整后积分：103分                                                                                                  │
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 4.2 信用积分 (Credit)

### 页面信息

- **页面路径**：`/study/credit`
- **页面类型**：列表页

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  用户管理 / 信用积分                                                                                                │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 用户昵称：┌────────────────┐  变动类型：┌────────────────┐  变动日期：┌──────────────────────────────────┐   │ │
│  │          │                │           │ 全部        ▼ │           │                                  │   │ │
│  │          └────────────────┘           └────────────────┘           └──────────────────────────────────┘   │ │
│  │                                                                                                          │ │
│  │                                                                              [搜索]  [重置]    [导出]    │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 用户     │ 变动类型       │ 变动分值 │ 变动后分值 │ 关联预约          │ 变动时间              │ 备注          │ │
│  │──────────┼────────────────┼──────────┼────────────┼───────────────────┼───────────────────────┼───────────────│ │
│  │ 张三     │ 🟢按时履约     │ +2       │ 98         │ BK20241204001     │ 2024-12-04 18:05:32   │ 正常完成预约  │ │
│  │──────────┼────────────────┼──────────┼────────────┼───────────────────┼───────────────────────┼───────────────│ │
│  │ 张三     │ 🟢提前释放     │ +1       │ 96         │ BK20241204002     │ 2024-12-04 16:30:18   │ 提前30分钟签退│ │
│  │──────────┼────────────────┼──────────┼────────────┼───────────────────┼───────────────────────┼───────────────│ │
│  │ 李四     │ 🔴迟到签到     │ -5       │ 85         │ BK20241203001     │ 2024-12-03 14:18:45   │ 超时15分钟签到│ │
│  │──────────┼────────────────┼──────────┼────────────┼───────────────────┼───────────────────────┼───────────────│ │
│  │ 王五     │ 🔴爽约         │ -10      │ 35         │ BK20241202001     │ 2024-12-02 14:30:00   │ 未签到自动取消│ │
│  │──────────┼────────────────┼──────────┼────────────┼───────────────────┼───────────────────────┼───────────────│ │
│  │ 赵六     │ 🟡管理员调整   │ +5       │ 77         │ -                 │ 2024-12-01 10:00:00   │ 申诉通过恢复  │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│                                                                          共 2048 条记录  < 1/103 >  每页 20 条     │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 积分变动类型

| 类型 | 分值 | 说明 |
| ---- | ---- | ---- |
| 按时履约 | +2 | 正常完成预约 |
| 提前释放 | +1 | 提前30分钟以上签退 |
| 连续履约 | +3 | 连续7天按时履约额外奖励 |
| 信用恢复 | +5 | 连续5次按时履约恢复 |
| 迟到签到 | -5 | 超过签到时间15分钟内签到 |
| 爽约 | -10 | 未签到自动取消 |
| 临时取消 | -3 | 开始前1小时内取消 |
| 管理员调整 | ±N | 管理员手动调整 |

---

## 4.3 黑名单管理 (Blacklist)

### 页面信息

- **页面路径**：`/study/blacklist`
- **页面类型**：列表页

### 页面布局

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  用户管理 / 黑名单管理                                                                                              │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ┌─ 搜索条件 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 用户昵称：┌────────────────┐  状态：┌────────────────┐                                                        │ │
│  │          │                │       │ 全部        ▼ │                      [搜索]  [重置]    [+ 手动添加]      │ │
│  │          └────────────────┘       └────────────────┘                                                        │ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│  ┌─ 数据列表 ────────────────────────────────────────────────────────────────────────────────────────────────────┐ │
│  │ 用户     │ 手机号          │ 加入原因           │ 加入时间              │ 解除时间              │ 状态     │ 操作          │ │
│  │──────────┼─────────────────┼────────────────────┼───────────────────────┼───────────────────────┼──────────┼───────────────│ │
│  │ 王五     │ 137****7777     │ 连续3次爽约        │ 2024-12-02 14:15:00   │ 2024-12-09 00:00:00   │ 🔴限制中 │ 详情  提前解除│ │
│  │──────────┼─────────────────┼────────────────────┼───────────────────────┼───────────────────────┼──────────┼───────────────│ │
│  │ 赵六     │ 136****6666     │ 信用分过低         │ 2024-11-28 10:00:00   │ 2024-12-05 00:00:00   │ ⚪已解除 │ 详情          │ │
│  │──────────┼─────────────────┼────────────────────┼───────────────────────┼───────────────────────┼──────────┼───────────────│ │
│  │ 钱七     │ 135****5555     │ 管理员手动添加     │ 2024-11-25 09:30:00   │ 永久                  │ 🔴限制中 │ 详情  提前解除│ │
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                                                    │
│                                                                          共 15 条记录    < 1/1 >    每页 20 条     │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 手动添加黑名单

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  添加黑名单                                                                                                    ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  * 选择用户：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 搜索用户昵称/手机号                                                                                       ▼ ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  * 限制原因：                                                                                                      │
│    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│    │ 请输入限制原因                                                                                               ││
│    │                                                                                                              ││
│    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│  * 限制时长：○ 7天  ○ 15天  ○ 30天  ○ 永久                                                                        │
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 提前解除确认

```text
┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  提前解除                                                                                                      ✕   │
├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                                    │
│  ⚠️ 确定要提前解除该用户的限制吗？                                                                                  │
│                                                                                                                    │
│  用户：王五                              限制原因：连续3次爽约                      原解除时间：2024-12-09 00:00    │
│                                                                                                                    │
│  解除原因：                                                                                                        │
│  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐│
│  │ 请输入提前解除原因                                                                                             ││
│  │                                                                                                                ││
│  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘│
│                                                                                                                    │
│                                                                                    ┌─────────┐     ┌─────────┐    │
│                                                                                    │  取消   │     │  确定   │    │
│                                                                                    └─────────┘     └─────────┘    │
│                                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 4.4 接口依赖

| 接口名称 | 请求方式 | 接口路径 | 说明 |
| -------- | -------- | -------- | ---- |
| 用户列表 | GET | `/admin-api/study/member/page` | 分页查询用户 |
| 用户详情 | GET | `/admin-api/study/member/get` | 获取用户详情 |
| 禁用用户 | PUT | `/admin-api/study/member/disable` | 禁用用户 |
| 启用用户 | PUT | `/admin-api/study/member/enable` | 启用用户 |
| 调整积分 | POST | `/admin-api/study/credit/adjust` | 调整用户积分 |
| 积分记录列表 | GET | `/admin-api/study/credit/page` | 分页查询积分记录 |
| 黑名单列表 | GET | `/admin-api/study/blacklist/page` | 分页查询黑名单 |
| 添加黑名单 | POST | `/admin-api/study/blacklist/create` | 添加黑名单 |
| 解除黑名单 | POST | `/admin-api/study/blacklist/release` | 解除黑名单 |

---

> 上一篇：[03-预约管理模块](./03-预约管理模块.md)  
> 下一篇：[05-公告管理模块](./05-公告管理模块.md)
